<div class="fixed-top bg-white">
    <div class="container-fluid">
      <div class="row">
        <div class="col-lg-6"><app-nav></app-nav></div>
      </div>
    </div>
  
</div>

<div class="calendar">
  
  <!-- view switcher -->
  <div class="btn-group mb-3" role="group" style="margin-left: 1rem;">
    <button type="button" class="btn btn-outline-secondary" (click)="switchView('month')">Month</button>
    <button type="button" class="btn btn-outline-secondary" (click)="switchView('week')">Week</button>
    <button type="button" class="btn btn-outline-secondary" (click)="switchView('day')">Day</button>
  </div>
  <!-- Calendar View -->
  <app-month-view
    *ngIf="currentView() === 'month'"
    [selectedDate]="selectedDate()"
    [events]="calendarEvents()"
    [familyMembers]="familyMembers()"
    (dateClicked)="handleDateClick($event)"
    (editClicked)="handleEventEdit($event)"
    (dateChanged)="selectedDate.set($event)"  
  ></app-month-view>
  <app-week-view
    *ngIf="currentView() === 'week'"
    [selectedDate]="selectedDate()"
    [events]="calendarEvents()"
    [familyMembers]="familyMembers()"
    (dateClicked)="handleDateClick($event)"
    (editClicked)="handleEventEdit($event)"
    (dateChanged)="selectedDate.set($event)" 
  ></app-week-view>
  <app-day-view
    *ngIf="currentView() === 'day'"
    [selectedDate]="selectedDate()"
    [events]="calendarEvents()"
    [familyMembers]="familyMembers()"
    (dateClicked)="handleDateClick($event)"
    (editClicked)="handleEventEdit($event)"
    (dateChanged)="selectedDate.set($event)" 
  ></app-day-view>
  <!-- event modal -->
  <app-calendar-event-modal
    [show]="showEventModal()"
    [selectedDate]="selectedDate()"
    [familyMembers]="familyMembers()"
    [editingEvent]="editingEvent()"
    (save)="saveEvent($event)"
    (delete)="deleteEvent($event)"
    (close)="showEventModal.set(false)"
  ></app-calendar-event-modal>
</div>